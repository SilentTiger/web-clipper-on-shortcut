<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="Pragma" content="no-cache">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="applicable-device" content="pc,mobile">
  <meta name="description" content="Web Clipper on Shortcut is a web clipping shortcut that helps you quickly clip the main content of a
  webpage from browsers like Safari to various apps, including Obsidian, Bear and Craft.">
  <meta name="keywords" content="web clipper,obsidian,bear,craft,markdown,note">
  <title>Web Clipper on Shortcut</title>
  <link rel="stylesheet" href="assets/typo.css">
  <link rel="stylesheet" href="assets/custom.css">
</head>

<body class="typo">
  <nav>
    <a class="text-link" href="./index.html" alt="中文版">中文版</a>
    <a class="icon-github darken-in-dark" href="https://github.com/SilentTiger/web-clipper-on-shortcut/"></a>
  </nav>
  <article>
    <h1 id="header-desc">Web Clipper on Shortcut</h1>
    <p>
      <i>Web Clipper on Shortcut</i> is a web clipping shortcut that helps you quickly clip the main content of a
      webpage from browsers like Safari to various apps.
    </p>
    <h2 id="header-demo">
      Demo
    </h2>
    <p><i>Web Clipper on Shortcut</i> currently supports clipping webpage content to three apps: <i>Obsidian</i>,
      <i>Craft</i>, and <i>Bear</i>:
    </p>
    <div class="video-section-3 center">
      <figure>
        <video controls preload="metadata" src="assets/video/clip-to-obsidian.mp4#t=0.001"></video>
        <figcaption class="center">Clip to Obsidian</figcaption>
      </figure>
      <figure>
        <video controls preload="metadata" src="assets/video/clip-to-craft.mp4#t=0.001"></video>
        <figcaption class="center">Clip to Craft</figcaption>
      </figure>
      <figure>
        <video controls preload="metadata" src="assets/video/clip-to-bear.mp4#t=0.001"></video>
        <figcaption class="center">Clip to Bear</figcaption>
      </figure>
    </div>
    <p>
      <i>Web Clipper on Shortcut</i> can be used not only on iOS but also on macOS.
    </p>
    <div class="clip-samples-mac center">
      <video controls preload="metadata" src="assets/video/clip-to-bear-mac.mp4#t=0.001"></video>
      <figcaption class="center">Clip to Bear mac client</figcaption>
    </div>

    <h2 id="header-tutorials">
      Quick start
    </h2>
    <h4>
      Install
    </h4>
    <p class="center">
      <a href="assets/Web Clipper on Shortcut.shortcut">
        <img class="darken-in-dark" src="assets/main-icon.png" width="150" alt="Web Clipper on Shortcut icon">
      </a>
    </p>
    <p>
      First, click the icon above in the Safari browser to download and import <i>Web Clipper on Shortcut</i> into your
      Shortcuts app. Then, simply run <i>Web Clipper on Shortcut</i> directly from the Shortcuts app. If this is your
      first
      time using it, <i>Web Clipper on Shortcut</i> will immediately initiate the setup process, asking which app you
      want to
      clip content to and whether to enable automatic updates (enabling updates is recommended).
    </p>
    <div class="video-section-2 center">
      <figure>
        <video controls muted preload="metadata" src="assets/video/download.mp4"></video>
        <figcaption class="center">Download and import to <i>Shortcut</i> App</figcaption>
      </figure>
      <figure>
        <video controls muted preload="metadata" src="assets/video/init.mp4#t=0.001"></video>
        <figcaption class="center">Initialize</figcaption>
      </figure>
    </div>
    <h4>
      Configuration
    </h4>
    <p>
      Next, <i>Web Clipper on Shortcut</i> will guide you through an app-specific setup process based on your selected
      app. For
      example, if you choose Obsidian, <i>Web Clipper on Shortcut</i> will ask you to specify which Vault to save the
      clipped
      content in and the specific path within that Vault.

      Let’s assume the Vault is “Personal” and the path is “SimpleRead.” When you clip an article titled “hello
      clipper,” <i>Web Clipper on Shortcut</i> will create a file titled “hello clipper” in the “SimpleRead” directory
      of the
      “Personal” Vault.
    </p>
    <div class="video-section-1 center">
      <figure>
        <video controls muted preload="metadata" src="assets/video/init-obsidian.mp4#t=0.001"></video>
        <figcaption class="center">Init config for Obsidian</figcaption>
      </figure>
    </div>
    <h4>
      Authorization
    </h4>
    <p>
      Finally, <i>Web Clipper on Shortcut</i> will attempt to download a JavaScript script for clipping from this
      website and
      request permission to write data to the clipboard. Simply allow all these permissions. For more details about the
      JavaScript script and clipboard permissions, refer to the subsequent sections.
    </p>
    <div class="video-section-1 center">
      <figure>
        <video controls muted preload="metadata" src="assets/video/init-end.mp4#t=0.001"></video>
        <figcaption class="center">Init config for Obsidian</figcaption>
      </figure>
    </div>
    <h4>
      Usage
    </h4>
    <p>
      Now the <i>Web Clipper on Shortcut</i> is ready to use. Let's try to clip a webpage.
    </p>
    <p>
      Still taking clipping to Obsidian as an example, start by opening the webpage you want to clip in the Safari
      browser. Tap the “Share” button at the bottom, then select <i>Web Clipper on Shortcut</i> from the share menu.
      Since this
      is your first time using <i>Web Clipper on Shortcut</i>, the system will display several permission prompts—simply
      choose
      “Always Allow.”

      Next, the system will automatically launch the Obsidian app and create a file at the configured location. Then, in
      Obsidian’s editor, long-press to bring up the context menu and select “Paste” to complete the process.
    </p>
    <p>
      You’ll notice that the pasted content isn’t the entire webpage but the “cleaned” main content of the webpage,
      which has already been converted into Markdown format supported by Obsidian.
    </p>
    <div class="video-section-2 center">
      <figure>
        <video controls muted preload="metadata" src="assets/video/first-clip-obsidian.mp4#t=0.001"></video>
        <figcaption class="center">Start clip to Obsidian</figcaption>
      </figure>
      <figure>
        <video controls muted preload="metadata" src="assets/video/first-clip-obsidian-end.mp4#t=0.001"></video>
        <figcaption class="center">Paste into Obsidian</figcaption>
      </figure>
    </div>
    <h4>
      Optimization
    </h4>
    <p>
      When <i>Web Clipper on Shortcut</i> is first installed, it is located at the bottom of the Safari browser's share
      sheet by default. To make it more convenient for us to use <i>Web Clipper on Shortcut</i>, we can also adjust its
      position in the share sheet.
    </p>
    <div class="video-section-1 center">
      <figure>
        <video controls muted preload="metadata" src="assets/video/order.mp4#t=0.001"></video>
        <figcaption class="center">Change the position of <i>Web Clipper on Shortcut</i> in share panel</figcaption>
      </figure>
    </div>

    <h2 id="header-advance">
      Additional Usage
    </h2>
    <h4>
      Bear
    </h4>
    <p>
      If you wish to clip web content to Bear, the configuration is simpler. You only need to follow the initialization
      guide to complete the basic configuration of <i>Web Clipper on Shortcut</i>, as Bear does not require custom
      configurations like Vault in Obsidian. During the clipping operation, there is no need to manually perform the
      paste operation.
    </p>
    <div class="video-section-1 center">
      <figure>
        <video controls muted preload="metadata" src="assets/video/init-bear.mp4#t=0.001"></video>
        <figcaption class="center">Init config for Bear</figcaption>
      </figure>
    </div>
    <h4>
      Craft
    </h4>
    <p>
      If you wish to clip web content to Craft, you first need to determine which Space you want to save the clipped
      content to, as well as the SpaceId of that Space. If you also want to save the clipped content to a specific
      folder, you need to obtain the FolderId of that folder in advance. A simple way to do this is to open your Space
      or folder in the web browser, where the URL in the address bar will contain the corresponding SpaceId and
      FolderId. The URL is generally in the following format:
    </p>
    <p class="center">
      <i>https://docs.craft.do/s/UserName's-Space--xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx/f/FolderName--xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx</i>
    </p>
    <p>
      The first segment <i>xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx</i> is SpaceId，and the second
      <i>xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx</i> is FolderId。
    </p>
    <p>
      If you choose to clip to Craft during the configuration guide of <i>Web Clipper on Shortcut</i>, the guide will
      prompt you to enter the SpaceId and FolderId in subsequent steps. The SpaceId is mandatory, while the FolderId can
      be left blank according to your personal needs.
    </p>
    <div class="video-section-1 center">
      <figure>
        <video controls muted preload="metadata" src="assets/video/init-craft.mp4#t=0.001"></video>
        <figcaption class="center">Init config for Craft</figcaption>
      </figure>
    </div>
    <p>
      After completing the configuration, when performing the clipping operation, it is also necessary to manually paste
      the content into the automatically created clipping file, just like with Obsidian. However, since the content to
      be pasted is prepared in advance by <i>Web Clipper on Shortcut</i>, this pasting process should take no more than
      two seconds.
    </p>
    <h4>
      Reset
    </h4>
    <p>
      All configuration information for <i>Web Clipper on Shortcut</i> is stored in the Shortcuts directory under your
      iCloud Drive. Opening the Shortcuts directory, you will find a folder named wcos, which contains all the
      JavaScript scripts and configuration information for <i>Web Clipper on Shortcut</i>. If you made a mistake during
      the previous configuration process or, for example, if you previously chose Obsidian as the clipping target but
      now wish to change it to Bear, you can simply delete the entire wcos folder and then rerun <i>Web Clipper on
        Shortcut</i> in the Shortcuts app. You will find that <i>Web Clipper on Shortcut</i> will rerun the
      configuration guide, and you can simply follow the new configuration process as before.
    </p>
    <div class="video-section-1 center">
      <figure>
        <video controls muted preload="metadata" src="assets/video/reset.mp4#t=0.001"></video>
        <figcaption class="center">Reset config</figcaption>
      </figure>
    </div>
    <h4>
      Update
    </h4>
    <p>
      If you selected “Enable Automatic Updates” during the setup, <i>Web Clipper on Shortcut</i> will automatically
      check for
      new versions the first time it runs each calendar month. If an update is available, it will notify you and guide
      you to this website. To update, simply delete the current <i>Web Clipper on Shortcut</i> from the Shortcuts app
      and
      download and install the latest version from this webpage.
    </p>
    <p>
      If you didn’t enable automatic updates, you can manually check for updates at any time by opening the Shortcuts
      app and running <i>Web Clipper on Shortcut</i>. When <i>Web Clipper on Shortcut</i> detects that it wasn’t
      launched through the
      Safari browser, it will automatically enter the update check process. If a new version is available, you can
      update it by following the same steps mentioned above.
    </p>
    <div class="video-section-2 center">
      <figure>
        <video controls muted preload="metadata" src="assets/video/auto-update.mp4#t=0.001"></video>
        <figcaption class="center">Auto update</figcaption>
      </figure>
      <figure>
        <video controls muted preload="metadata" src="assets/video/manual-update.mp4#t=0.001"></video>
        <figcaption class="center">Manual update</figcaption>
      </figure>
    </div>
    <h2 id="header-how">Principle</h2>
    <p>
      The workflow of <i>Web Clipper on Shortcut</i> generally consists of 5 steps:
    </p>
    <ol>
      <li>Obtain the main content of the web page, excluding unnecessary elements such as web frameworks and
        advertisements.</li>
      <li>Filter out unsafe parts of the main content, such as injected scripts.</li>
      <li>Convert the main content from HTML to Markdown.</li>
      <li>Copy the content to the clipboard, and simultaneously open the specified app and
        create a file via URL Scheme.</li>
      <li>The user manually pastes the clipped content into the newly created file.</li>
    </ol>
    <p>The logic of the above steps is mostly implemented through JavaScript. The <i>Web Clipper
        on Shortcut</i> shortcut instruction reads these JavaScript codes from the disk and injects them into the web
      page to execute.</p>
    <p>The first three steps are implemented using these three open-source JavaScript libraries:
      <i>mozilla/readability</i>, <i>cure53/DOMPurify</i> and <i>mixmark-io/turndown</i>.
    </p>
    <p>Additionally, you may have noticed that <i>Web Clipper on Shortcut</i> requires you to manually paste the content
      into the newly created file when clipping web content to Obsidian and Craft. This is because these two apps do not
      support automatically reading clipboard content based on URL Scheme configuration. Although content can be
      directly passed to the app via URL Scheme, the length of the URL Scheme is limited, which can result in the loss
      of some clipped content. Therefore, <i>Web Clipper on Shortcut</i> was designed to require manual pasting by the
      user. However, as previously shown, the content in the clipboard has been cleaned and formatted by <i>Web Clipper
        on Shortcut</i>, so users do not need to further process it after pasting.
    </p>
    <p>
      If you use <i>Web Clipper on Shortcut</i> to clip a web page containing a large number of images to Bear App, you
      may notice that the clipping process causes the Bear App interface to freeze for a while. This is because Bear App
      automatically downloads the image resources from the web page, which takes some time, depending on your network
      conditions.
    </p>

    <h2 id="header-security">
      Security and Privacy
    </h2>
    <p>
      As mentioned earlier, <i>Web Clipper on Shortcut</i> injects a JavaScript script into the webpage for execution
      during
      its runtime. This means that the JavaScript script has full access to the content of the webpage. Therefore, the
      system will notify you the first time you run <i>Web Clipper on Shortcut</i> on a new website.

      If the webpage you’re clipping contains sensitive information and the injected JavaScript script includes
      malicious code, there is a potential risk of this sensitive information being exposed. In fact, similar risks
      exist with most web clipping tools.
    </p>
    <p>
      To avoid such issues and to alleviate concerns about data security when using <i>Web Clipper on Shortcut</i>, the
      <i>Web Clipper on Shortcut</i> is completely an open-source project. You can have the source code at <a
        class="text-link" href="https://github.com/SilentTiger/web-clipper-on-shortcut"
        target="_blank">SilentTiger/web-clipper-on-shortcut</a>.
    </p>
    <p>
      At the same time, <i>Web Clipper on Shortcut</i> performs an MD5 checksum on the JavaScript script before
      injecting it
      into a webpage to ensure that the script has not been tampered with, reducing data security risks. The
      verification criteria are stored in the shortcut’s source file, so you should not easily trust Web Clipper on
      Shortcut shortcut files sent by others. They might modify the MD5 criteria to introduce potentially unsafe
      JavaScript scripts.
    </p>
    <p>
      <i>Web Clipper on Shortcut</i> does not rely on the network during its operation and does not send any data to
      third-party servers.
    </p>
    <h2 id="header-feedback">
      Feedback
    </h2>
    <p>
      If you have any problem when using <i>Web Clipper on Shortcut</i>, you can fire an issue at <a class="text-link"
        href="https://github.com/SilentTiger/web-clipper-on-shortcut"
        target="_blank">SilentTiger/web-clipper-on-shortcut</a>.
    </p>
    <p>
      <i>Web Clipper on Shortcut</i> currently supports only a limited number of apps. If you’d like it to support
      additional
      apps and the app you want can be launched via URL Scheme, you can submit an issue through the earlier link. I’ll
      address it as soon as I have time.
    </p>
    <p>
      Of course, if you happen to have a basic understanding of JavaScript, you can write a launcher for the app you
      wish to support and submit a Pull Request to <i>Web Clipper on Shortcut</i>. The specific implementation of the
      launcher can be referred to in the src/launcher directory of the project.
    </p>
    <p>
      Additionally, <i>Web Clipper on Shortcut</i> has only been optimized for a few specific websites. If you find that
      it does not perform well when clipping certain websites, such as not removing ads completely, you can raise an
      issue. Of course, it would be even better if you could implement a specific plugin and submit a pull request. The
      implementation of the plugin can be referred to in the src/plugin directory of the project.
    </p>
    <h2 id="header-acknowledgments">
      Thanks and Acknowledgments
    </h2>
    <p>
      Thanks to the following projects for providing various supports to <i>Web Clipper on Shortcut</i>.
    </p>
    <dl>
      <dt>
        <cite><a class="text-link" target="mozilla/readability"
            href="https://github.com/mozilla/readability">mozilla/readability</a></cite>
      </dt>
      <dd>
        <i>mozilla/readability</i> is used to extract the main content of web pages and is also the foundational library
        for <i>Firefox Reader View</i>.
      </dd>
    </dl>
    <dl>
      <dt>
        <cite><a class="text-link" target="cure53/DOMPurify"
            href="https://github.com/cure53/DOMPurify">cure53/DOMPurify</a></cite>
      </dt>
      <dd>
        <i>cure53/DOMPurify</i> is used to filter out unsafe parts of the main content.
      </dd>
    </dl>
    <dl>
      <dt>
        <cite><a class="text-link" target="mixmark-io/turndown"
            href="https://github.com/mixmark-io/turndown">mixmark-io/turndown</a></cite>
      </dt>
      <dd>
        <i>mixmark-io/turndown</i> is used to convert the main content from HTML to Markdown.
      </dd>
    </dl>
    <dl>
      <dt>
        <cite><a class="text-link" target="sofish/typo.css"
            href="https://github.com/sofish/typo.css">sofish/typo.css</a></cite>
      </dt>
      <dd>
        <i>sofish/typo.css</i> is used for the content layout and beautification of this webpage.
      </dd>
    </dl>
  </article>
  <aside>
    <ol>
      <li><a href="#header-desc">Summary</a></li>
      <li><a href="#header-demo">Demo</a></li>
      <li><a href="#header-tutorials">Quick start</a></li>
      <li><a href="#header-advance">Additional</a></li>
      <li><a href="#header-how">Principle</a></li>
      <li><a href="#header-security">Privacy</a></li>
      <li><a href="#header-feedback">Feedback</a></li>
      <li><a href="#header-acknowledgments">Acknowledgments</a></li>
    </ol>
  </aside>
  <script src="assets/index.js"></script>
  <!-- Google tag (gtag.js) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-JQEGNQ012T"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag() { dataLayer.push(arguments); }
    gtag('js', new Date());

    gtag('config', 'G-JQEGNQ012T');
  </script>
</body>

</html>